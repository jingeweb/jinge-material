<!--
  import { DatepickerDialog } from './datepicker-dialog';
  import { Field } from '../field';
  import { Input } from '../input';
  import { Popover } from '../popover';
-->
<Field on:clear="onClear" :class="['md-datepicker', overrideNative && 'md-native']" clearable>
  <Popover trigger="none" e:active="showDialog">
    <_slot slot-pass:default>
      <div class="md-field-container">
        <md-icon-today class="md-date-icon" on:click="!disabled && toggleDialog()" />
        <Input
          e:disabled="disabled"
          e:type="overrideNative ? 'text' : 'date'"
          e:value="inputDate"
          ref:input
          on:change="onInputChange"
          on:focus="onFocus"
          on:blur="onBlur"
          e:pattern="pattern"
          e:placeholder="placeholder || (showDefaultPlaceholder ? (showDialog ? (inputDateFormat || locale.dateFormat) : locale.datePlaceholder) : null)"
        />
      
        <_slot />
      </div>
    </_slot>
    <DatepickerDialog
      on:confirm="onConfirm"
      on:cancel="onCancel"
      on:change="onChange"
      e:immediately="immediately"
      e:disabledDates="disabledDates"
      e:date="value"
      slot-pass:content
    />
  </Popover>
</Field>