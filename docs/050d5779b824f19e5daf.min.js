(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{105:function(t,e,n){"use strict";n.r(e),n.d(e,"PagePopconfirm",(function(){return f}));var o=n(0),c=n(28),r=function(t){const e=t;return[...(()=>{const n=Object(o.s)({[o.m]:{compStyle:t[o.m].compStyle?{...t[o.m].compStyle}:null,context:t[o.m].context,slots:{default:function(t){return[(()=>{const e=Object(o.x)("div",Object.assign({class:"page-container-section"},t[o.m].compStyle),Object(o.y)("p",Object(o.G)(t,"tDR >",!1)),Object(o.y)("p",Object(o.G)(t,"Z)E5#",!1)));return t[o.m].rootNodes.push(e),e})(),(()=>{const n=Object(o.x)("div",Object.assign({class:"page-container-section"},t[o.m].compStyle),Object(o.y)("h2",Object(o.G)(t,"dZW*'",!1)),...(()=>{const n=Object(o.s)({[o.m]:{context:t[o.m].context},example:null,title:"Popconfirm"});n.example=function(){let t;return null===(t=e._examples)||void 0===t?void 0:t.simple}();const r=c.d.create(n);return t[o.m].nonRootCompNodes.push(r),Object(o.r)(r.__render())})(),...(()=>{const n=Object(o.s)({[o.m]:{context:t[o.m].context,slots:{default:function(t){return[...(()=>{const e=Object(o.s)({[o.m]:{compStyle:t[o.m].compStyle?{...t[o.m].compStyle}:null,context:t[o.m].context,slots:{default:function(t){return[Object(o.G)(t,"x4.<P",!0)]}}},tip:!0}),n=c.e.create(e);return t[o.m].rootNodes.push(n),Object(o.r)(n.__render())})()]},props:function(t){return[...(()=>{const n=Object(o.s)({[o.m]:{compStyle:t[o.m].compStyle?{...t[o.m].compStyle}:null,context:t[o.m].context},headings:null,props:null}),r=()=>{n.headings=function(){let t,n;return null===(n=null===(t=e.api)||void 0===t?void 0:t.props)||void 0===n?void 0:n.headings}()};r(),e[o.a].__watch(["api","props","headings"],r,t[o.a]);const s=()=>{n.props=function(){let t,n;return null===(n=null===(t=e.api)||void 0===t?void 0:t.props)||void 0===n?void 0:n.props}()};s(),e[o.a].__watch(["api","props","props"],s,t[o.a]);const i=c.b.create(n);return t[o.m].rootNodes.push(i),Object(o.r)(i.__render())})()]},events:function(t){return[...(()=>{const n=Object(o.s)({[o.m]:{compStyle:t[o.m].compStyle?{...t[o.m].compStyle}:null,context:t[o.m].context},headings:null,props:null}),r=()=>{n.headings=function(){let t,n;return null===(n=null===(t=e.api)||void 0===t?void 0:t.events)||void 0===n?void 0:n.headings}()};r(),e[o.a].__watch(["api","events","headings"],r,t[o.a]);const s=()=>{n.props=function(){let t,n;return null===(n=null===(t=e.api)||void 0===t?void 0:t.events)||void 0===n?void 0:n.props}()};s(),e[o.a].__watch(["api","events","props"],s,t[o.a]);const i=c.b.create(n);return t[o.m].rootNodes.push(i),Object(o.r)(i.__render())})()]}}},title:"API - md-popconfirm"}),r=c.a.create(n);return t[o.m].nonRootCompNodes.push(r),Object(o.r)(r.__render())})());return t[o.m].rootNodes.push(n),n})()]}}},title:null,centered:!0}),r=()=>{n.title=o.F.__t("dZW*'")};r();const s=c.f.create(n);return s.__i18nWatch(r),t[o.m].rootNodes.push(s),Object(o.r)(s.__render())})()]},s=n(60),i=n(16),a=n(19),l=n(7),m=n(35),p=function(t){const e=t;return[...(()=>{const n=Object(o.s)({[o.m]:{compStyle:t[o.m].compStyle?{...t[o.m].compStyle}:null,context:t[o.m].context,listeners:{"update.active":{fn:function(...t){e.onUpdateActive(...t)},opts:null}},slots:{default:function(t){return[...(()=>{const n=e[o.m].slots,c=n&&n.default?n.default:null,r=Object(o.s)({[o.m]:{compStyle:t[o.m].compStyle?{...t[o.m].compStyle}:null,context:t[o.m].context,slots:{default:c||o.C}}}),s=new o.i(r,[])[o.a].proxy;return t[o.m].rootNodes.push(s),Object(o.r)(s.__render())})()]},content:function(t){return[...(()=>{const n=e[o.m].slots,c=n&&n.content?n.content:function(t){return[(()=>{const n=Object(o.x)("div",Object.assign({class:"md-popover-content"},t[o.m].compStyle),Object(o.x)("div",{class:"title"},(()=>{const n=Object(o.B)(),c=()=>{Object(o.U)(n,e.title)};return c(),e[o.a].__watch(["title"],c,t[o.a]),n})()),...(()=>{const n=Object(o.s)({[o.m]:{context:t[o.m].context,slots:{default:function(t){return[(()=>{const n=Object(o.x)("div",Object.assign({class:"error"},t[o.m].compStyle),(()=>{const n=Object(o.B)(),c=()=>{Object(o.U)(n,e.error)};return c(),e[o.a].__watch(["error"],c,t[o.a]),n})());return t[o.m].rootNodes.push(n),n})()]}}},expect:null}),c=()=>{n.expect=e.error};c(),e[o.a].__watch(["error"],c,t[o.a]);const r=o.g.create(n);return t[o.m].nonRootCompNodes.push(r),Object(o.r)(r.__render())})());return t[o.m].rootNodes.push(n),n})()]},r=Object(o.s)({[o.m]:{compStyle:t[o.m].compStyle?{...t[o.m].compStyle}:null,context:t[o.m].context,slots:{default:c||o.C}}}),s=new o.i(r,[])[o.a].proxy;return t[o.m].rootNodes.push(s),Object(o.r)(s.__render())})(),...(()=>{const n=e[o.m].slots,c=n&&n.ctrl?n.ctrl:function(t){return[(()=>{const n=Object(o.x)("div",Object.assign({class:"md-popover-ctrl"},t[o.m].compStyle),...(()=>{const n=Object(o.s)({[o.m]:{context:t[o.m].context,listeners:{click:{fn:function(...t){e.onCancel(...t)},opts:null}},slots:{default:function(t){return[(()=>{const n=Object(o.x)("span",t[o.m].compStyle,(()=>{const n=Object(o.B)(),c=()=>{Object(o.U)(n,e.cancelText||function(){let t;return null===(t=e.locale)||void 0===t?void 0:t.Cancel}())};return c(),e[o.a].__watch(["cancelText"],c,t[o.a]),e[o.a].__watch(["locale","Cancel"],c,t[o.a]),n})());return t[o.m].rootNodes.push(n),n})()]}}},disabled:null}),c=()=>{n.disabled=e.confirmSpinner};c(),e[o.a].__watch(["confirmSpinner"],c,t[o.a]);const r=l.a.create(n);return t[o.m].nonRootCompNodes.push(r),Object(o.r)(r.__render())})(),...(()=>{const n=Object(o.s)({[o.m]:{context:t[o.m].context,listeners:{click:{fn:function(...t){e.onConfirm(...t)},opts:null}},slots:{default:function(t){return[...(()=>{const n=Object(o.s)({[o.m]:{compStyle:t[o.m].compStyle?{...t[o.m].compStyle}:null,context:t[o.m].context,slots:{default:function(t){return[...(()=>{const e=Object(o.s)({[o.m]:{compStyle:t[o.m].compStyle?{...t[o.m].compStyle}:null,context:t[o.m].context}}),n=m.a.create(e);return t[o.m].rootNodes.push(n),Object(o.r)(n.__render())})()]}}},expect:null}),c=()=>{n.expect=e.confirmSpinner};c(),e[o.a].__watch(["confirmSpinner"],c,t[o.a]);const r=o.g.create(n);return t[o.m].rootNodes.push(r),Object(o.r)(r.__render())})(),(()=>{const n=Object(o.x)("span",t[o.m].compStyle,(()=>{const n=Object(o.B)(),c=()=>{Object(o.U)(n,e.confirmText||function(){let t;return null===(t=e.locale)||void 0===t?void 0:t.Ok}())};return c(),e[o.a].__watch(["confirmText"],c,t[o.a]),e[o.a].__watch(["locale","Ok"],c,t[o.a]),n})());return t[o.m].rootNodes.push(n),n})()]}}},disabled:null,class:"md-primary"}),c=()=>{n.disabled=e.confirmSpinner};c(),e[o.a].__watch(["confirmSpinner"],c,t[o.a]);const r=l.a.create(n);return t[o.m].nonRootCompNodes.push(r),Object(o.r)(r.__render())})());return t[o.m].rootNodes.push(n),n})()]},r=Object(o.s)({[o.m]:{compStyle:t[o.m].compStyle?{...t[o.m].compStyle}:null,context:t[o.m].context,slots:{default:c||o.C}}}),s=new o.i(r,[])[o.a].proxy;return t[o.m].rootNodes.push(s),Object(o.r)(s.__render())})()]}}},trigger:null,active:null,transition:null,placement:null,offset:null,delay:null,closeOnOutsideClick:null,class:null,_popperOptions:null}),c=()=>{n.trigger=e.trigger};c(),e[o.a].__watch(["trigger"],c,t[o.a]);const r=()=>{n.active=e.active};r(),e[o.a].__watch(["active"],r,t[o.a]);const s=()=>{n.transition=e.transition};s(),e[o.a].__watch(["transition"],s,t[o.a]);const i=()=>{n.placement=e.placement};i(),e[o.a].__watch(["placement"],i,t[o.a]);const p=()=>{n.offset=e.offset};p(),e[o.a].__watch(["offset"],p,t[o.a]);const u=()=>{n.delay=e.delay};u(),e[o.a].__watch(["delay"],u,t[o.a]);const _=()=>{n.closeOnOutsideClick=!e.confirmSpinner&&e.closeOnOutsideClick};_(),e[o.a].__watch(["confirmSpinner"],_,t[o.a]),e[o.a].__watch(["closeOnOutsideClick"],_,t[o.a]);const d=()=>{n.class=e.className};d(),e[o.a].__watch(["className"],d,t[o.a]);n._popperOptions=e._popperOptions;const h=a.a.create(n);return t[o.m].rootNodes.push(h),Object(o.r)(h.__render())})()]};class u extends o.c{static get template(){return p}constructor(t){super(t);const e=this[o.a].proxy,n=()=>{e.title=t.title||""};n(),t[o.a].__watch("title",n);const c=()=>{e.error=t.errorTip};c(),t[o.a].__watch("errorTip",c);const r=()=>{e.className="md-popconfirm"+(t.class?" "+t.class:"")};r(),t[o.a].__watch("class",r);const s=()=>{e.placement=t.placement||"top-end"};s(),t[o.a].__watch("placement",s);const a=()=>{e.active=t.active};a(),t[o.a].__watch("active",a);const l=()=>{e.trigger=t.trigger||"click"};l(),t[o.a].__watch("trigger",l);const m=()=>{e.delay=t.delay};m(),t[o.a].__watch("delay",m);const p=()=>{e.offset=t.offset||16};p(),t[o.a].__watch("offset",p);const u=()=>{e.closeOnOutsideClick=!1!==t.closeOnOutsideClick};u(),t[o.a].__watch("closeOnOutsideClick",u);const _=()=>{e.transition=t.transition};_(),t[o.a].__watch("transition",_),e._popperOptions=t._popperOptions;const d=()=>{e.confirmText=t.confirmText};d(),t[o.a].__watch("confirmText",d);const h=()=>{e.cancelText=t.cancelText};h(),t[o.a].__watch("cancelText",h);const f=()=>{e.confirmSpinner=t.confirmSpinner};f(),t[o.a].__watch("confirmSpinner",f);const b=()=>{e.hideWhenConfirmClick=!1!==t.hideWhenConfirmClick};b(),t[o.a].__watch("hideWhenConfirmClick",b),e._localeChangeHandler=e._onLocaleChange.bind(e),e.locale=Object(i.a)(e._localeChangeHandler)}_onLocaleChange(t){this.locale=t}onUpdateActive(t){this.active=t,this.__notify("update.active",t)}onConfirm(){this.__notify("confirm"),this.hideWhenConfirmClick&&(this.active=!1,this.__notify("update.active",!1,"confirm"))}onCancel(){this.active=!1,this.__notify("cancel"),this.__notify("update.active",!1,"cancel")}}var _=function(t){const e=t,n="_bb2r6ht";return[(()=>{const c=Object(o.x)("div",Object.assign({[n]:""},t[o.m].compStyle),Object(o.x)("p",{[n]:""},Object(o.G)(t,"0Wwrd",!1),...(()=>{const c=Object(o.s)({[o.m]:{compStyle:{[n]:""},context:t[o.m].context,listeners:{confirm:{fn:function(...t){e.confirm(...t)},opts:null},cancel:{fn:function(...t){e.cancel(...t)},opts:null}},slots:{default:function(t){return[...(()=>{const e=Object(o.s)({[o.m]:{compStyle:{...t[o.m].compStyle,[n]:""},context:t[o.m].context,slots:{default:function(t){return[Object(o.G)(t,"s7dWX",!0)]}}},class:"md-primary"}),c=l.a.create(e);return t[o.m].rootNodes.push(c),Object(o.r)(c.__render())})()]}}},title:null}),r={[o.a]:null},s=()=>{r[o.a]&&r[o.a].__destroy(),r[o.a]=new o.l({}),o.F.__r("Ww}|r","attributes")(c,"title",!1,r,e)};s();const i=u.create(c);return i.__i18nWatch(s),i.__on("before-destroy",()=>r[o.a].__destroy()),t[o.m].nonRootCompNodes.push(i),Object(o.r)(i.__render())})()),Object(o.x)("p",{[n]:""},Object(o.G)(t,"uXFK{",!1),...(()=>{const c=Object(o.s)({[o.m]:{compStyle:{[n]:""},context:t[o.m].context,listeners:{"update.active":{fn:function(...t){e.isConfirmShown=t[0]},opts:null},confirm:{fn:function(...t){e.submitDelete(...t)},opts:null}},slots:{default:function(t){return[...(()=>{const e=Object(o.s)({[o.m]:{compStyle:{...t[o.m].compStyle,[n]:""},context:t[o.m].context,slots:{default:function(t){return[Object(o.G)(t,"s7dWX",!0)]}}},class:"md-primary"}),c=l.a.create(e);return t[o.m].rootNodes.push(c),Object(o.r)(c.__render())})()]}}},active:null,hideWhenConfirmClick:null,confirmSpinner:null,errorTip:null,title:null}),r=()=>{c.active=e.isConfirmShown};r(),e[o.a].__watch(["isConfirmShown"],r,t[o.a]);c.hideWhenConfirmClick=!1;const s=()=>{c.confirmSpinner=e.fetching};s(),e[o.a].__watch(["fetching"],s,t[o.a]);const i=()=>{c.errorTip=e.errorTip};i(),e[o.a].__watch(["errorTip"],i,t[o.a]);const a={[o.a]:null},m=()=>{a[o.a]&&a[o.a].__destroy(),a[o.a]=new o.l({}),o.F.__r("Ww}|r","attributes")(c,"title",!1,a,e)};m();const p=u.create(c);return p.__i18nWatch(m),p.__on("before-destroy",()=>a[o.a].__destroy()),t[o.m].nonRootCompNodes.push(p),Object(o.r)(p.__render())})()));return t[o.m].rootNodes.push(c),c})()]};class d extends o.c{static get style(){return null}static get template(){return _}constructor(t){super(t);const e=this[o.a].proxy;e.__i18nWatch(()=>{e.some=Object(o.Y)({name:o.F.__t("Lf071")})},!0),e.isConfirmShown=!1,e.fetching=!1}confirm(){console.log("user click yes.")}cancel(){console.log("user click no.")}submitDelete(){this.fetching=!0,this.errorTip=null,new Promise((t,e)=>setTimeout(()=>{Math.random()>.5?t():e(new Error("server error."))},1500)).then(()=>{s.a.show(o.F.__t("t@={W")),this.isConfirmShown=!1,this.fetching=!1},t=>{this.errorTip=t.toString(),this.fetching=!1})}}var h={js:"import {\n  Component,\n  vm,\n  _t\n} from 'jinge';\n\nimport {\n  Snackbar\n} from '../../../../../../src/snackbar';\n\nimport _tpl from './simple.html';\n\nfunction mockDeleteApi() {\n  // mock server api\n  return new Promise((resolve, reject) => setTimeout(() => {\n    if (Math.random() > 0.5) resolve();\n    else reject(new Error('server error.'));\n  }, 1500));\n}\n\nexport default class ExampleSimplePopover extends Component {\n  static get style() {\n    return 'p { display: flex; align-items: baseline; }';\n  }\n\n  static get template() {\n    return _tpl;\n  }\n\n  constructor(attrs) {\n    super(attrs);\n    this.__i18nWatch(() => {\n      this.some = vm({\n        name: _t('未命名')\n      });\n    }, true);\n    this.isConfirmShown = false;\n    this.fetching = false;\n  }\n\n  confirm() {\n    console.log('user click yes.');\n  }\n\n  cancel() {\n    console.log('user click no.');\n  }\n\n  submitDelete() {\n    this.fetching = true;\n    this.errorTip = null;\n    mockDeleteApi().then(() => {\n      Snackbar.show(_t('删除成功！'));\n      this.isConfirmShown = false;\n      this.fetching = false;\n    }, err => {\n      this.errorTip = err.toString();\n      this.fetching = false;\n    });\n  }\n}\n",scss:"",html:'<div>\n  <p>\n    <_t>简单的 Popconfirm：</_t>\n    <md-popconfirm\n      on:confirm="confirm"\n      on:cancel="cancel"\n      _t:title="您确认要删除 ${some.name} 吗？"\n    >\n      <md-button class="md-primary">\n        <_t>删除</_t>\n      </md-button>\n    </md-popconfirm>\n  </p>\n  <p>\n    <_t>配合服务器端 API 接口：</_t>\n    <md-popconfirm\n      e:active="isConfirmShown"\n      e:hideWhenConfirmClick="false"\n      e:confirmSpinner="fetching"\n      on:update.active="isConfirmShown = args[0]"\n      on:confirm="submitDelete"\n      _t:title="您确认要删除 ${some.name} 吗？"\n      e:errorTip="errorTip"\n    >\n      <md-button class="md-primary">\n        <_t>删除</_t>\n      </md-button>\n    </md-popconfirm>\n  </p>\n</div>'};class f extends o.c{static get template(){return r}constructor(t){super(t);const e=this[o.a].proxy;e.__i18nWatch(()=>{e.api=Object(o.Y)({props:{headings:[o.F.__t("cN2y#"),o.F.__t("irK?+"),o.F.__t("o1PP5")],props:[{name:"title",description:o.F.__t("qm~9I"),defaults:"an empty string"},{name:"errorTip",description:o.F.__t("RZwn8"),defaults:"null"},{name:"hideWhenConfirmClick",description:o.F.__t("15o2|"),defaults:"true"},{name:"confirmSpinner",description:o.F.__t("VOVGF"),defaults:"false"},{name:"placement",description:o.F.__t("L|*3?"),defaults:"top-end"},{name:"offset",description:o.F.__t("L|*3?"),defaults:"16"}]},events:{headings:[o.F.__t("cN2y#"),o.F.__t("irK?+"),o.F.__t("b7z[W")],props:[{name:"confirm",description:o.F.__t("cX?r,"),value:"undefined"},{name:"cancel",description:o.F.__t("v/o0J"),value:"undefined"},{name:"update.active",description:o.F.__t("L|*3?"),value:"(isActive, action)"}]}})},!0),e._examples={simple:{component:d,source:h}}}}},35:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n(0);class c extends o.c{static get template(){return function(t){const e=t;return[(()=>{const n=Object(o.x)("div",t[o.m].compStyle,(()=>{const n=Object(o.A)("svg",{preserveAspectRatio:"xMidYMid meet",focusable:"false",viewBox:"0 0 48 48"},(()=>{const n=Object(o.A)("circle",{"stroke-linecap":"round",cx:"50%",cy:"50%","stroke-width":"4",r:"22"});return e.__setRef("circle",n,t),n})());return e.__setRef("draw",n,t),n})()),c=()=>{Object(o.S)(n,"class","md-spinner"+(e._determinate?" md-determinate":" md-indeterminate")+e.className)};c(),e[o.a].__watch(["className"],c,t[o.a]);const r=()=>{Object(o.S)(n,"style",e.style)};return r(),e[o.a].__watch(["style"],r,t[o.a]),t[o.m].rootNodes.push(n),n})()]}}constructor(t){super(t);const e=this[o.a].proxy,n=()=>{e.className=t.class?" "+t.class:""};n(),t[o.a].__watch("class",n),e._determinate="value"in t;const c=()=>{e.value=t.value};c(),t[o.a].__watch("value",c);const r=()=>{var n,c;e.style=(t.style||"")+(t.size?(n=t.size,c=t.style,"normal"===n?n=48:"small"===n?n=36:"large"===n&&(n=64),Object(o.O)(n)&&!/^\d+$/.test(n)||(n+="px"),`${c?";":""}width:${n};height:${n}`):"")};r(),t[o.a].__watch("style",r),t[o.a].__watch("size",r)}get value(){return this._value}set value(t){this._determinate&&(t=Number(t),this._value!==t&&(this._value=t,this.__updateIfNeed(this.attachCircleStyle)))}attachCircleStyle(){const t=this.__getRef("circle");let e=this.value;e>100?e=100:e<0&&(e=0),t.style.strokeDashoffset=2*Math.PI*22*(100-e)/100+"px"}__afterRender(){this._determinate&&this.attachCircleStyle()}}}}]);